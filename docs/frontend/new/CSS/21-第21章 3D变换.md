# 第21章 3D变换

## 21.1 开启3D控件

重要原则：元素进行`3D`变换的首要操作：**父元素**必须开启`3D`空间！

> 使用`transform-style`开启`3D`控件，可选值如下：
>
> - `flat`: 让子元素位于此元素的二维平面内（`2D`空间）——默认值
> - `preserve-3d`: 让子元素位于此元素的三维空间内（`3D`空间）

## 21.2 设置景深

何为景深？——指定观察者与`z=0`平面的举例，能让发生`3D`变换的元素，产生透视效果，看来更加立体。

> 使用`perspective`设置景深，可选值如下：
>
> - none: 不指定透视——（默认值）
>
> - `长度值`: 指定观察者举例`z=0`平面的举例，不允许是负值。
>
> 注意：`perspective`设置给发生`3D`变换元素的**父元素**！

## 21.3 透视点位置

所谓透视点位置，就是观察者位置；默认的透视点在元素的中心。

> 使用`perspective-origin`设置观察者位置（透视点的位置），例如：
>
> ```css
> /* 相对坐标轴往右偏移400px，往下便宜300px（相当于人蹲下300像素，然后向右移动400像素看元素） */
> perspective-origin: 400px 300px;
> ```
>
> 注意：通常情况下，我们不需要调整透视点位置。

## 21.4 3D位移

`3D`位移是在`2D`位移的基础上，可以让元素沿`z`轴位移，具体使用方式如下：

1. 先给元素添加**转换属性**`transform`
2. 编写`transform`的具体值，`3D`相关可选值如下：

| 值          | 含义                                                         |
| ----------- | ------------------------------------------------------------ |
| translateZ  | 设置`z`轴位移，需要指定长度值，正值向屏幕外，负值向屏幕里，且**不能写百分比**。 |
| translate3d | 第一个参数对应`x`轴，第二个参数对应`y`轴，第三个参数对应`z`轴，且均不能省略。 |

## 21.5 3D旋转

`3D`旋转是在`2D`旋转的基础上，可以让元素沿着`x`轴和`y`轴旋转，具体使用方式如下：

1. 先给元素添加**转换属性**`transform`
2. 编写`transform`的具体值，`3D`可选值如下：

| 值       | 含义                                                         |
| -------- | ------------------------------------------------------------ |
| rotateX  | 设置`x`轴旋转角度，需指定一个角度值（`deg`），面对`x`轴正方向：正值顺时针，负值逆时针。 |
| rotateY  | 设置`y`轴旋转角度，需指定一个角度值（`deg`），面对`y`轴正方向：正值顺时针，负值逆时针。 |
| rotate3d | 前 `3` 个参数分别表示做包轴：`x,y,z`，第`4`个参数表示旋转的角度，参数不允许省略。<br />例如：`transform: rotate3d(1,1,1,30deg)`，意思是：`x、y、z`分别旋转`30`度。 |

## 21.6 3D缩放

`3D`缩放是在`2D`缩放的基础上，可以让元素沿`z`轴缩放，具体使用方式如下：

1. 先给元素添加**转换属性**`transform`
2. 编写`transform`的具体值，`3D`相关可选值如下：

| 值      | 含义                                                         |
| ------- | ------------------------------------------------------------ |
| scaleZ  | 设置`z`轴方向的缩放比例，值为一个数字，`1`表示不缩放，大于`1`放大，小于`1`缩小。 |
| scale3d | 第一个参数对应`x`轴，第二个参数对应`y`轴，第三个参数对应`z`轴，参数不允许省略。 |

## 21.7 多重变换

多个变换，可以同时使用一个`transform`来编写。

```css
transform: translateZ(100px) scaleZ(3) rotateY(45deg)
```

> 注意点：多重变换时，建议最后旋转。