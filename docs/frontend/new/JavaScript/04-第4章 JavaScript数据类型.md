# 第4章 JavaScript数据类型

**目标：能说出JS中基本数据类型有哪些。**

计算机世界中的万事万物都是数据。

计算机程序可以处理大量的数据，为什么要给数据分类？

- 更加充分和高效的利用内存
- 也更加方便程序员使用数据

**JS数据类型整体分为两大类：**

- 基本数据类型
    - number - 数字型
    - string - 字符串型
    - boolean 布尔型
    - undefined - 未定义型
    - null - 空类型
- 引用数据类型
    - object - 对象

## 4.1 数字类型（number）

即我们数学中学习到的数字，可以是整数、小数、正数、负数。

```js
let age = 18; // 整数
let price = 88.99; // 小数
```

JavaScript中的正数、负数、小数等统一称为数字类型。

**注意事项：**

- JS是弱数据类型，变量到底属于哪一种数据类型，只有赋值之后，我们才能确认。
- Java是强国数据类型，例如 int a = 3 必须是整数

数字可以由很多操作，比如：乘法`*`、除法`\`、加法`+`、减法`-`等等，所以经常和算术运算符一起。

数学运算符也叫做**算术运算符**，主要包括加、减、乘、除、取余（取模）。

- +：求和
- -：求差
- *：求积
- /：求商
- %：取模（取余数）
    - 开发中经常作为某个数字是否被整除

**算术运算符的优先级：**

同时使用多个运算符编写程序时，会按着某种顺序先后执行，我们称为优先级。

JavaScript中优先级越高越先被执行，<span style="color:red;">优先级相同时以书写顺序从左到右执行。</span>

- 乘、除、取模优先级相同
- 加、减优先级相同
- 乘、除、区域优先级大于加、减
- 使用`()`可以提升优先级
- 总结：先乘除后加减，有括号先算括号里面的~~~

**数字类型中特殊的值：**

NaN代表一个计算错误。它是一个不正确的或者一个未定义的数学操作所得到的结果。

```js
console.log("老师" - 2); // NaN
```

NaN是粘性的。任何对NaN的操作都会返回NaN

```js
console.log(NaN + 2); // NaN
```

## 4.2 字符串型（string）

<span style="color:red;font-weight:bold;">通过单引号`''`、双引号`""`或者反引号&#96;包裹的数据都叫字符串</span>，单引号和双引号没有本质上的区别，推荐使用单引号。

```js
let uname = '小明'; // 使用单引号
let gender = "男"; // 使用双引号
let goods = `小米`; // 使用反引号
let tel = "13612345678"; // 也是字符串
let ctn = "外面的使用双引号，内部的使用'单引号'";
let str = ""; // 这种情况叫空字符串
```

**注意事项：**

1. 无论单引号或者双引号，必须成对出现。
2. 单引号/双引号可以互相嵌套，但是不能自己嵌套自己（口诀：外单内双，或者外双内单）
3. 必要时可以使用转义符`\`，输出单引号或双引号。

**字符串拼接：**

**场景：**+运算符，可以实现字符串的拼接。

**口诀：**数字相加，字符相连。

**模板字符串：**

- 使用场景

    - 拼接字符串和变量
    - 在没有它之前，要拼接变量比较麻烦

  ```js
  document.write("大家好，我叫" + name + "，今年" + age + "岁了！")
  ```

- 语法

    - ``（反引号）
    - 在英文输入模式下按键盘的TAB键上方的那个键（数字1左边的按键）
    - 内容拼接变量时，用`${}`包裹住变量

  ```js
  document.write(`大家好，我叫${name}，今年${age}岁了！`)
  ```

## 4.3 布尔型（boolean）

表示肯定或者否定时在计算机中对应的是布尔类型的数据。

它有两个固定的值`true`和`false`，表示肯定的数据用`true`（真），表示否定的数据用`false`（假）。

```js
// JavaScript 好玩不？
let isCool = true;
console.log(isCool);
```

## 4.4 未定义类型（undefined）

未定义是比较特殊的类型，只有一个值：`undefined`。

**什么情况出现未定义类型？**

只声明变量，不赋值的情况下，变量的默认值为undefined，一般很少【直接】为某个变量赋值为undefined。

```js
let num; // 声明变量但是未赋值
console.log(num); // undefined
```

**工作中使用的场景：**

我们开发中经常声明一个变量，等待传送过来的数据。

如果我们不知道这个数据是否传递过来，此时我们可以通过检测这个变量是不是undefined，就能判断用户是否有数据传递过来。

## 4.5 null（空类型）

JavaSc中的null仅仅是一个代表“无”、“空”或“值未知”的特殊值。

## 4.6 检测数据类型

**通过<span style="color:red;">typeof</span>关键字检测数据类型**

typeof运算符可以返回被检测的数据类型，它支持两种语法形式：

1. 作为运算符：typeof x （常用的写法）
2. 函数形式：typeof(x)

换言之，有括号和没有括号，得到的结果是一样的，所以我们直接使用<span style="color:red;">运算符</span>的写法。

## 4.7 隐式转换和显示转换

**1、为什么需要类型转换：**

JavaScript是弱数据类型：JavaScript也不知道变量到底属于哪一种数据类型，只有赋值了才清楚。

坑：使用表单、prompt获取过来的数据默认是字符串类型的，此时就不能直接简单的进行加法运算。

```js
console.log('10000' + '2000'); // 输出结果 100002000
```

此时需要转换变量的数据类型。

通俗来讲，<span style="color:red;">就是把一种数据类型的变量转换成我们需要的数据类型</span>。

**2.隐式转换**

某些运算符被执行时，系统内部自动将数据类型进行转换，这种转换称为隐式转换。

**规则：**

- +号两边只要有一个是字符串，都会把另外一个转成字符串。
- 除了+以外的算术运算符，比如`-`、`*`、`/`等都会把数据转成数字类型。

**缺点：**

- 转换类型不明确，靠经验才能总结。

**小技巧：**

- +号作为正好解析可以转换数字类型
- 任何数据和字符串相加结果都是字符串

**3.显示转换：：**

编程时过渡依靠系统内部的隐式转换是不严谨的，因为隐式转换规律并不清晰，大多是靠经验总结的规律。

为了避免因为隐式转换带来的问题，通常根据逻辑需要对数据进行显示转换。

**概念：**

自己写代码告诉系统该转换成什么类型。

**转换为数字类型：**

- Number(数据)
    - 转成数字类型
    - 如果字符串内容里有非数字，转换失败时结果为NaN（Not a Number）即不是一个数字
    - NaN也是number类型的数据，代表非数字
- parseInt(数据)
    - 只保留整数
- parseFloat（数据）
    - 可以保留小数

**转换为Boolean型**

- 显式转换：
    - Boolean(内容)
        - 记忆：<span style="color:red;">''、0、undefined、null、false、NaN转换为布尔值后都是false，其余则为true</span>
- 隐式转换：
    - 有字符串的加法： `"" + 1`，结果是： `"1"`
    - 减法 - (像大多数数学运算一样）只能用于数字，它会使空字符串 "" 转换为 0
    - null 经过数字转换之后会变为 0
    - undefined 经过数字转换之后会变成 NaN